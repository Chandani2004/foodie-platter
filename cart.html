<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart</title>
<link rel="stylesheet" href="food.css">
<div class="gap">
<h1 > HERE'S YOUR CART</h1></div>
<style>
    /* Style for the cart items */
    .cart-item {
        margin-bottom: 10px;
        border: 1px solid #0e0e0e;
        padding: 20px;
        display: flex;
        align-items: center;
    }
    h1 {
        background-image: url('bg5.jpg');
    background-size: cover;
    background-color: #3896f5;
    align-items: center;
    
}
.gap{
    background-image: url('bg5.jpg');
    background-size: cover;
    background-color: #f63d65;
}

    

    .item-details {
        display: flex;
        flex-grow: 1;
        align-items: center;
    }

    .item-image {
        width: 120px;
        height: 150px;
        margin-right: 10px;
    }

    /* Style for the quantity buttons */
    .quantity-btn {
        margin: 0 5px;
        cursor: pointer;
    }

    /* Style for the remove button */
    .remove-btn {
        color: rgb(2, 65, 239);
        cursor: pointer;
    }
</style>
</head>
<body>
    <div id="cart">
        <!-- Display cart items here -->
    </div>
    
    <button onclick="window.location.href='signup.html'">Login to continue</button>

<script>
    // Retrieve cart items from localStorage
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

    // Display cart items
    const cartContainer = document.getElementById("cart");
    cartItems.forEach(item => {
        const cartItem = document.createElement("div");
        cartItem.className = "cart-item";

        // Item image
        const itemImage = document.createElement("img");
        itemImage.src = item.image;
        itemImage.alt = item.name;
        itemImage.className = "item-image";

        // Item details
        const itemDetails = document.createElement("div");
        itemDetails.className = "item-details";
        itemDetails.innerHTML = `
            <span>${item.name} - Rs.${item.price}</span>
            <button class="quantity-btn" onclick="decreaseQuantity(${item.id})">-</button>
            <span id="quantity-${item.id}">${item.quantity || 1}</span>
            <button class="quantity-btn" onclick="increaseQuantity(${item.id})">+</button>
            <button class="remove-btn" onclick="removeItem(${item.id})">Remove</button>`;

        cartItem.appendChild(itemImage);
        cartItem.appendChild(itemDetails);
        cartContainer.appendChild(cartItem);
    });

    // Functions to handle quantity operations
    function increaseQuantity(itemId) {
        const itemIndex = cartItems.findIndex(item => item.id === itemId);
        if (itemIndex !== -1) {
            // Increase the quantity
            cartItems[itemIndex].quantity = (cartItems[itemIndex].quantity || 1) + 1;
            document.getElementById(`quantity-${itemId}`).textContent = cartItems[itemIndex].quantity;
            updateLocalStorage();
        }
    }

    function decreaseQuantity(itemId) {
        const itemIndex = cartItems.findIndex(item => item.id === itemId);
        if (itemIndex !== -1 && cartItems[itemIndex].quantity > 1) {
            // Decrease the quantity
            cartItems[itemIndex].quantity -= 1;
            document.getElementById(`quantity-${itemId}`).textContent = cartItems[itemIndex].quantity;
            updateLocalStorage();
        }
    }

    // Function to remove item from cart
    function removeItem(itemId) {
        const itemIndex = cartItems.findIndex(item => item.id === itemId);
        if (itemIndex !== -1) {
            // Remove the item from the array
            cartItems.splice(itemIndex, 1);
            // Update the display
            const cartItem = document.querySelector(`#cart .cart-item:nth-child(${itemIndex + 1})`);
            if (cartItem) {
                cartItem.remove();
                updateLocalStorage();
            }
        }
    }

    // Function to update localStorage
    function updateLocalStorage() {
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
    }
</script>

</body>
</html>
